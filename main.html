<!DOCTYPE html>
<html>
<head>
    <title>Tick-Talk</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <header id="appHeader">
        <div class="app-title"><i class="fas fa-comments"></i> Tick-Talk</div>
        <div class="header-balance">
            Time Balance: <span id="timeBalance">00:00:00</span>
        </div>
    </header>
    <div id="app">
                
        <!-- Profile Page -->
        <div class="page profile-page active">
            <h2><i class="fas fa-user"></i> Profile Settings</h2>
            <button id="google-login-button"> Login </button>
            <p id="userDisplay">Not logged in</p>

            <form id="profileForm">
                <div class = "profile-section">
                    <label for="nativeLanguage">Native Language:</label>
                    <select id="nativeLanguage" name="nativeLanguage">
                        <option value="en">English</option>
                        <option value="es">Spanish</option>
                        <option value="fr">French</option>
                        <option value="it">Italian</option>
                        <option value="ge">German</option>
                    </select>
                </div>

                <div class = "profile-section">
                    <label for="targetLanguage">Target Language:</label>
                    <select id="targetLanguage">
                        <option value="en">English</option>
                        <option value="es">Spanish</option>
                        <option value="fr">French</option>
                        <option value="it">Italian</option>
                        <option value="ge">German</option>
                    </select>
                </div>

                <div class = "profile-section">
                    <label>Topics of Interest:</label>
                    <div class="profile-checkboxes">
                        <label><input type="checkbox" name="topics" value="travel"> Travel</label>
                        <label><input type="checkbox" name="topics" value="movies"> Movies</label>
                        <label><input type="checkbox" name="topics" value="technology"> Technology</label>
                        <label><input type="checkbox" name="topics" value="books"> Books</label>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save Settings</button>
            </div>
        </form>
        <!-- Chat Page TODO-->
        <!-- <div class="page chat-page">        
            <h2><i class="fas fa-comments"></i> Chat</h2>
            <p>Connect with language partners and practice conversations in real time!</p>
            <div class="chat-preview">
                <img src="https://via.placeholder.com/50" alt="Chat User" class="chat-avatar">
                <div class="chat-details">
                    <span class="chat-user-name">John Doe</span>
                    <p>Hi! Let's practice English...</p>
                </div>
            </div>
            <div class="chat-message">
                <div class="chat-avatar-bg"></div>
                <img src="https://via.placeholder.com/40" alt="User Avatar" class="chat-avatar">
                <div class="message-content">
                    <p>Hello! I'm excited to start our conversation.</p>
                    <span class="message-time">10:15 AM</span>
                </div>
            </div>
            <div class="chat-message">
                <div class="chat-avatar-bg"></div>
                <img src="https://via.placeholder.com/40" alt="User Avatar" class="chat-avatar">
                <div class="message-content">
                    <p>Me too! What do you want to talk about?</p>
                    <span class="message-time">10:16 AM</span>
                </div>
            </div>
            <div class="chat-message">
                <div class="chat-avatar-bg"></div>
                <img src="https://via.placeholder.com/40" alt="User Avatar" class="chat-avatar">
                <div class="message-content">
                    <p>How about discussing our favorite books?</p>
                    <span class="message-time">10:17 AM</span>
                </div>
            </div>
            <div class="chat-message">
                <div class="chat-avatar-bg"></div>
                <img src="https://via.placeholder.com/40" alt="User Avatar" class="chat-avatar">
                <div class="message-content">
                    <p>That sounds great! I love reading fiction.</p>
                    <span class="message-time">10:18 AM</span>
                </div>
            </div>
        </div> -->


        <!-- Call Page -->
        <div class="page call-page">
            <h2><i class="fas fa-video"></i> Video Call</h2>
            <div id="preCall">
                <label for="roleSelect">Join as:</label>
                <select id="roleSelect">
                    <option value="teacher">Teacher</option>
                    <option value="learner">Learner</option>
                </select>
                <button id="startCallButton" class="btn btn-primary"><i class="fas fa-phone"></i> Start Call</button>
            </div>
            
            <div id="inCall" style="display: none;">
                <div class="video-container">
                    <div class="video-box" id="localVideo">
                        <div class="user-name">Your Name</div>
                        <video autoplay muted></video>
                    </div>

                    <div class="video-box" id="remoteVideo">
                        <div class="user-name">Other Name</div>
                        <video autoplay></video>
                    </div>
                </div>

                <div class="call-controls">
                    <button id="muteButton" class="btn"><i class="fas fa-microphone"></i> Mute</button>
                    <button id="videoButton" class="btn"><i class="fas fa-video"></i> Turn Off Video</button>
                    <button id="stopCallButton" class="btn btn-danger">Stop Call</button>
                </div>
            </div>
            
            <div id="callEnded" style="display: none;">
                <h2>Call Ended</h2>
                <button id="newCallButton">New Call</button> 
            </div>
            <p>Call duration: <span id="callDuration">00:00:00</span> </p>

            
        </div>
    
        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <button class="nav-item active" data-target="profile-page" aria-label="Profile">
                <i class="fas fa-user"></i>
            </button>
            <!-- Chat to be implemented -->
            <!-- <button class="nav-item" data-target="chat-page" aria-label="Chat">
                <i class="fas fa-comments"></i>
            </button> -->
            <button class="nav-item" data-target="call-page" aria-label="Call">
                <i class="fas fa-video"></i>
            </button>
        </div>
        
    </div>
    <script type="module" src="script.js" defer></script>
</body>
</html>